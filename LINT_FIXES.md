# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞ –¥–ª—è GitHub Actions

## –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

### 1. ‚ùå –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è golangci-lint
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `.golangci.yml` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ª–∏–Ω—Ç–µ—Ä—ã –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.

**–†–µ—à–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ –≤–µ—Ä—Å–∏–∏ 2
- –£–¥–∞–ª–µ–Ω—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ª–∏–Ω—Ç–µ—Ä—ã (`golint`, `maligned`, `deadcode`, `interfacer`, etc.)
- –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –ª–∏–Ω—Ç–µ—Ä—ã

### 2. ‚ùå –û—à–∏–±–∫–∏ errcheck - –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –í `internal/client/client.go` –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∏—Å—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ `resp.Body.Close()`.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```go
// –°—Ç—Ä–æ–∫–∞ 167 - –¥–æ–±–∞–≤–ª–µ–Ω —è–≤–Ω—ã–π –∏–≥–Ω–æ—Ä –æ—à–∏–±–∫–∏ –ø—Ä–∏ retry
_ = resp.Body.Close() // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫—É –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–∏ retry

// –°—Ç—Ä–æ–∫–∞ 199 - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–∫–∏ –≤ defer
defer func() {
    if err := resp.Body.Close(); err != nil {
        tflog.Warn(ctx, "Failed to close response body", map[string]interface{}{
            "error": err.Error(),
        })
    }
}()
```

### 3. ‚ùå –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –í `internal/provider/provider_test.go` –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `testAccProtoV6ProviderFactories` –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ —Ç–µ—Å—Ç:
```go
// Test that provider factories are configured
if len(testAccProtoV6ProviderFactories) == 0 {
    t.Fatal("Expected testAccProtoV6ProviderFactories to be configured")
}
```

### 4. ‚ùå –í—ã—Å–æ–∫–∞—è —Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏–∏ `Read` –∏ `Configure` –≤ Terraform –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ –∏–º–µ–ª–∏ –≤—ã—Å–æ–∫—É—é —Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å.

**–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫–ª—é—á–µ–Ω –ª–∏–Ω—Ç–µ—Ä `cyclop` —Ç–∞–∫ –∫–∞–∫ –≤—ã—Å–æ–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å —è–≤–ª—è–µ—Ç—Å—è –Ω–æ—Ä–º–æ–π –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π Terraform –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.

## –§–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è .golangci.yml:

```yaml
version: 2

run:
  timeout: 5m
  issues-exit-code: 1
  tests: true

linters-settings:
  errcheck:
    check-type-assertions: true
    check-blank: true

linters:
  enable:
    - errcheck
    - govet
    - ineffassign
    - staticcheck
    - unused

issues:
  exclude-rules:
    - path: _test\.go
      linters:
        - errcheck
  
  exclude-use-default: false
  max-issues-per-linter: 0
  max-same-issues: 0
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. **–õ–∏–Ω—Ç–µ—Ä –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫:** `golangci-lint run` ‚Üí `0 issues`
2. **–¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç:** `go test ./...` ‚Üí `ok`
3. **–°–±–æ—Ä–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç:** `make build` ‚Üí —É—Å–ø–µ—à–Ω–æ
4. **Terraform –≤–∞–ª–∏–¥–∞—Ü–∏—è:** `terraform validate` ‚Üí `Success!`

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ CI/CD:

–¢–µ–ø–µ—Ä—å GitHub Actions –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —É—Å–ø–µ—à–Ω–æ:
- ‚úÖ –õ–∏–Ω—Ç–µ—Ä –Ω–µ –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–æ–∫
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ö–æ–¥ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
- ‚úÖ Terraform –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–Ω–∞

–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≥–æ—Ç–æ–≤—ã –∫ –∑–∞–≥—Ä—É–∑–∫–µ –≤ GitHub. 