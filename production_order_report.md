# –û—Ç—á–µ—Ç –æ Production –∑–∞–∫–∞–∑–µ —Å–µ—Ä–≤–µ—Ä–∞ BareMetal Selectel

## ‚ùå –ü–†–û–ë–õ–ï–ú–´ –í –ó–ê–ö–ê–ó–ï

### 1. –ó–∞–∫–∞–∑–∞–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
- **–ó–∞–∫–∞–∑–∞–Ω–Ω—ã–π UUID**: `418e13d3-9c82-4629-9713-5322b289cb82`
- **–¢—Ä–µ–±—É–µ–º—ã–π UUID**: `7a7d09db-0915-46a1-93f6-5e3024709325`

### 2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω  
- **–ó–∞–∫–∞–∑–∞–Ω–Ω—ã–π –ø–ª–∞–Ω**: "1 –º–µ—Å—è—Ü" (`15205ff1-73dc-4315-bfda-6f78a36046b5`)
- **–¢—Ä–µ–±—É–µ–º—ã–π –ø–ª–∞–Ω**: "1 –¥–µ–Ω—å" (—Å—É—Ç–æ—á–Ω—ã–π —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω)

### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ü–µ–Ω–∞
- **–ó–∞–∫–∞–∑–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞**: 0.31 RUB/–¥–µ–Ω—å
- **–†–µ–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞**: 320 RUB/–¥–µ–Ω—å

## üìã –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –ó–ê–ö–ê–ó–ê

### –≠—Ç–∞–ø 1: –ü–æ–∏—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
**–ó–∞–ø—Ä–æ—Å**:
```bash
curl -H "X-Auth-Token: $SEL_SERVERS_TOKEN" \
     -H "Accept: application/json" \
     https://api.selectel.ru/servers/v2/service
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ò—Å–∫–∞–ª —Å–µ—Ä–≤–∏—Å –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é "AR21", –Ω–æ –Ω–µ –Ω–∞—à–µ–ª —Ç–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è. –í—ã–±—Ä–∞–ª "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π –ø—Ä–µ–¥—Å–æ–±—Ä–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä" –ø–æ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—é.

**–ù–∞–π–¥–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å**:
```json
{
  "uuid": "418e13d3-9c82-4629-9713-5322b289cb82",
  "name": "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π –ø—Ä–µ–¥—Å–æ–±—Ä–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä",
  "price_collection": {
    "RUB": {
      "day": 0.31,
      "month": 0.31
    }
  }
}
```

### –≠—Ç–∞–ø 2: –ü–æ–∏—Å–∫ —Ç–∞—Ä–∏—Ñ–Ω–æ–≥–æ –ø–ª–∞–Ω–∞
**–ó–∞–ø—Ä–æ—Å**:
```bash
curl -H "X-Auth-Token: $SEL_SERVERS_TOKEN" \
     -H "Accept: application/json" \
     https://api.selectel.ru/servers/v2/plan
```

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø–ª–∞–Ω—ã**:
- "1 –¥–µ–Ω—å": `be6c2a5f-4160-5145-8695-c628496b208d` (–Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞)
- "1 –º–µ—Å—è—Ü": `15205ff1-73dc-4315-bfda-6f78a36046b5` (–¥–æ—Å—Ç—É–ø–µ–Ω)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–ª–∞–Ω "1 –¥–µ–Ω—å" –æ–∫–∞–∑–∞–ª—Å—è –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ–≥–æ –ø—Ä–µ–¥—Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞", –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª "1 –º–µ—Å—è—Ü".

### –≠—Ç–∞–ø 3: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞
**–≠–Ω–¥–ø–æ–∏–Ω—Ç**: `/servers/v2/resource/serverchip/billing`
**–ú–µ—Ç–æ–¥**: POST

**–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**:
```json
{
  "location_uuid": "b7d55bf4-7057-5113-85c8-141871bf7635",
  "service_uuid": "418e13d3-9c82-4629-9713-5322b289cb82",
  "price_plan_uuid": "15205ff1-73dc-4315-bfda-6f78a36046b5",
  "os_template": "ubuntu",
  "arch": "x86_64",
  "version": "20.04",
  "userhostname": "ar21-ssd-production",
  "pay_currency": "main",
  "user_desc": "Production server AR21-SSD configuration on 1-month billing plan",
  "raid_type": "raid1"
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–∫–∞–∑–∞**:
- **Server UUID**: `f423f76c-bc40-4eda-9a7a-38c042abfe6f`
- **Name**: `ar21-ssd-production`
- **Status**: –°–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ

## üîç –ê–ù–ê–õ–ò–ó –û–®–ò–ë–û–ö

### –û—à–∏–±–∫–∞ 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞
- –ò—Å–∫–∞–ª –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é "AR21", –∞ –Ω–µ –ø–æ —Ç–æ—á–Ω–æ–º—É UUID
- –í—ã–±—Ä–∞–ª –ø–µ—Ä–≤—ã–π –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Å–µ—Ä–≤–∏—Å –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–Ω—ã
- –ù–µ –ø—Ä–æ–≤–µ—Ä–∏–ª —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ü–µ–Ω—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º (320 —Ä—É–±/–¥–µ–Ω—å)

### –û—à–∏–±–∫–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–Ω–æ–≥–æ –ø–ª–∞–Ω–∞
- –ù–µ –ø—Ä–æ–≤–µ—Ä–∏–ª –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å—É—Ç–æ—á–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –¥–ª—è –Ω—É–∂–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –º–µ—Å—è—á–Ω—ã–π –ø–ª–∞–Ω –∫–∞–∫ fallback

### –û—à–∏–±–∫–∞ 3: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –ù–µ —Å—Ä–∞–≤–Ω–∏–ª —Ü–µ–Ω—É API —Å –æ–∂–∏–¥–∞–µ–º–æ–π —Ü–µ–Ω–æ–π
- –ù–µ –ø—Ä–æ–≤–µ—Ä–∏–ª –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ä–≤–µ—Ä–∞ –ø–µ—Ä–µ–¥ –∑–∞–∫–∞–∑–æ–º

## üõ†Ô∏è –¢–†–ï–ë–£–ï–ú–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π UUID —Å–µ—Ä–≤–µ—Ä–∞**: `7a7d09db-0915-46a1-93f6-5e3024709325`
2. **–ù–∞–π—Ç–∏ —Å—É—Ç–æ—á–Ω—ã–π —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω –¥–ª—è —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞**
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–Ω—É 320 —Ä—É–±/–¥–µ–Ω—å**
4. **–ü–µ—Ä–µ–∑–∞–∫–∞–∑–∞—Ç—å —Å–µ—Ä–≤–µ—Ä —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏**

## üìä –°–†–ê–í–ù–ò–¢–ï–õ–¨–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–∞–∫–∞–∑–∞–Ω–æ | –¢—Ä–µ–±—É–µ—Ç—Å—è |
|----------|----------|-----------|
| Service UUID | `418e13d3-9c82-4629-9713-5322b289cb82` | `7a7d09db-0915-46a1-93f6-5e3024709325` |
| Service Name | "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π –ø—Ä–µ–¥—Å–æ–±—Ä–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä" | AR21-SSD |
| Billing Plan | "1 –º–µ—Å—è—Ü" | "1 –¥–µ–Ω—å" |
| Price | 0.31 RUB/–¥–µ–Ω—å | 320 RUB/–¥–µ–Ω—å |
| Plan UUID | `15205ff1-73dc-4315-bfda-6f78a36046b5` | TBD |

## üéØ –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä–≤–∏—Å —Å UUID `7a7d09db-0915-46a1-93f6-5e3024709325`
2. –ù–∞–π—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã –¥–ª—è —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞  
3. –ù–∞–π—Ç–∏ —Å—É—Ç–æ—á–Ω—ã–π –ø–ª–∞–Ω —Å —Ü–µ–Ω–æ–π 320 —Ä—É–±/–¥–µ–Ω—å
4. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é terraform
5. –ü–µ—Ä–µ–∑–∞–∫–∞–∑–∞—Ç—å —Å–µ—Ä–≤–µ—Ä —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

## ‚úÖ –ù–ê–ô–î–ï–ù–ù–´–ï –ü–†–ê–í–ò–õ–¨–ù–´–ï –ü–ê–†–ê–ú–ï–¢–†–´

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä AR21-SSD:
```json
{
  "uuid": "7a7d09db-0915-46a1-93f6-5e3024709325",
  "name": "AR21-SSD",
  "state": "EOL",
  "is_primary": true,
  "price_collection": {
    "RUB": {
      "day": 320.0,
      "month": 4900.0,
      "hour": 1.0
    }
  }
}
```

### –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:
- **SPB-4** (`b7d55bf4-7057-5113-85c8-141871bf7635`): 4 —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω–æ
- **MSK-3** (`85d96ea3-b853-4cb9-a761-b79d202a2f90`): 1 —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω

### –¢–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω "1 –¥–µ–Ω—å":
```json
{
  "uuid": "be6c2a5f-4160-5145-8695-c628496b208d", 
  "name": "1 –¥–µ–Ω—å",
  "type": "day",
  "period": 1
}
```

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:
–¢–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω "1 –¥–µ–Ω—å" **–î–û–°–¢–£–ü–ï–ù** –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ AR21-SSD –≤ –ª–æ–∫–∞—Ü–∏–∏ SPB-4 (4 —Å–µ—Ä–≤–µ—Ä–∞) –∏ MSK-3 (1 —Å–µ—Ä–≤–µ—Ä).

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–ê–†–ê–ú–ï–¢–†–´ –î–õ–Ø –ó–ê–ö–ê–ó–ê

```json
{
  "location_uuid": "b7d55bf4-7057-5113-85c8-141871bf7635",
  "service_uuid": "7a7d09db-0915-46a1-93f6-5e3024709325",
  "price_plan_uuid": "be6c2a5f-4160-5145-8695-c628496b208d",
  "os_template": "ubuntu",
  "arch": "x86_64", 
  "version": "20.04",
  "userhostname": "ar21-ssd-production-correct",
  "pay_currency": "main",
  "user_desc": "Correct AR21-SSD server on 1-day billing plan",
  "raid_type": "raid1"
}
```

**–û–∂–∏–¥–∞–µ–º–∞—è —Ü–µ–Ω–∞**: 320 RUB/–¥–µ–Ω—å

## ‚ùå –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –° AR21-SSD

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ AR21-SSD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞**: "EOL" (End of Life)
- **–ü—Ä–æ–±–ª–µ–º–∞ OS**: –¢—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –≤–µ—Ä—Å–∏–∏ (`2004` –≤–º–µ—Å—Ç–æ `20.04`)
- **–ü—Ä–æ–±–ª–µ–º–∞ RAID**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `partitions_config` –≤–º–µ—Å—Ç–æ `raid_type`
- **API –≤–∞–ª–∏–¥–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É partitions_config

### –ù–∞–π–¥–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ OS –¥–ª—è AR21-SSD:
- Debian: –≤–µ—Ä—Å–∏–∏ `11v2`, `12v2`
- Ubuntu: –≤–µ—Ä—Å–∏–∏ `2004`, `2204`, `2404` 
- Oracle: –≤–µ—Ä—Å–∏–∏ `8v2`, `9v2`
- AlmaLinux: –≤–µ—Ä—Å–∏–∏ `8v2`, `9v2`
- Rocky: –≤–µ—Ä—Å–∏–∏ `8v2`, `9v2`
- Proxmox: `pve-8`, `pbs-3`
- Windows Server: `2019-EN-DTC`, `2022-EN-DTC`, –∏ –¥—Ä.
- No OS: `-`

### –ü—Ä–æ–±–ª–µ–º–∞ —Å API –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π:
–°–µ—Ä–≤–µ—Ä AR21-SSD —Ç—Ä–µ–±—É–µ—Ç `partitions_config` –ø–æ–ª–µ –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ `raid_type`, –Ω–æ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ö–µ–º—ã –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ JSON.

## üîÑ –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–û–ï –†–ï–®–ï–ù–ò–ï

–ü–æ—Å–∫–æ–ª—å–∫—É AR21-SSD –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ EOL –∏ –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å API, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ—Ä–≤–µ—Ä–∞.

### –ü–æ–∏—Å–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:
–ù–∞–π–¥–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –∏ —Ü–µ–Ω–æ–π –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 300-400 —Ä—É–±/–¥–µ–Ω—å.

## üö´ –í–´–Ø–í–õ–ï–ù–ù–ê–Ø –§–£–ù–î–ê–ú–ï–ù–¢–ê–õ–¨–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### –ü—Ä–æ–±–ª–µ–º–∞ —Å API –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π partitions_config

–ü–æ—Å–ª–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `partitions_config`, –≤–∫–ª—é—á–∞—è:

1. **–†–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã JSON**: inline JSON, —Ñ–∞–π–ª—ã, —É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
2. **–†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã Go —Å—Ç—Ä—É–∫—Ç—É—Ä**: `map[string]interface{}`, –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã 
3. **–†–∞–∑–ª–∏—á–Ω—ã–µ OS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: Ubuntu, Debian, No OS
4. **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è RAID**: noraid –≤–º–µ—Å—Ç–æ raid1

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –æ—à–∏–±–∫–æ–π API `"expected a dictionary"` –¥–ª—è –ø–æ–ª—è `partitions_config`.

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

1. **API bug**: –≠–Ω–¥–ø–æ–∏–Ω—Ç `/servers/v2/resource/serverchip/billing` –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π `partitions_config` –¥–ª—è AR21-SSD
2. **–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: AR21-SSD (EOL —Å—Ç–∞—Ç—É—Å) –º–æ–∂–µ—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –Ω–æ–≤—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–º –±–∏–ª–ª–∏–Ω–≥–∞
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —É—Å—Ç–∞—Ä–µ–ª–∞**: –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ `partitions_config` –º–æ–≥–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å—Å—è

### üí∞ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ API –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
```json
{
  "error": "Insufficient balance",
  "message": "Account balance (< 100 RUB) is insufficient for server cost (320 RUB/day)"
}
```

**–≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–æ –±—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–∫–∞–∑–∞.**

## üîö –§–ò–ù–ê–õ–¨–ù–´–ô –°–¢–ê–¢–£–°

‚ùå **AR21-SSD –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ Terraform**: –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω API –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π  
‚úÖ **–ü—Ä–æ–≤–∞–π–¥–µ—Ä –≥–æ—Ç–æ–≤**: –°—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –ª–æ–≥–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã  
‚úÖ **API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ—Å—Ç—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç  
‚ùå **AR21-SSD + partitions_config**: –¢—Ä–µ–±—É–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è API

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–û–±—Ä–∞—â–µ–Ω–∏–µ –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É Selectel** –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ `partitions_config` –¥–ª—è AR21-SSD
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥—Ä—É–≥–∏—Ö EOL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π** –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –æ–±—â–µ–π –ø—Ä–æ–±–ª–µ–º—ã  
3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏

## üîç –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ï –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ï

### –ü–æ–ø—ã—Ç–∫–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ AR21-SSD:

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∏–∑ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API:

**–†–µ–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ AR21-SSD:**
- CPU: AMD Ryzen 5 3400G (3.7 –ì–ì—Ü, 4 —è–¥—Ä–∞)
- RAM: 32 –ì–ë DDR4 non-ECC
- –î–∏—Å–∫–∏: 2 x 480 –ì–ë SSD SATA –≤ RAID1

**–ü–æ–ø—ã—Ç–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

1. ‚úÖ **–ó–∞–∫–∞–∑ –±–µ–∑ partitions_config**: API –æ—Ç–≤–µ—Ç–∏–ª `"Partitions_config field require."` - –ø–æ–ª–µ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è AR21-SSD
2. ‚ùå **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å 480 –ì–ë SSD**: –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–≤–µ—Ä—à–∞–ª–∏—Å—å –æ—à–∏–±–∫–æ–π `"required key not provided"`
3. ‚ùå **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ controller_port**: –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
4. ‚ùå **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

### üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢ –î–õ–Ø –ü–†–û–í–ï–†–ö–ò –ö–û–†–†–ï–ö–¢–ù–û–°–¢–ò

–ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ API –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É –±–∞–ª–∞–Ω—Å–∞:
```json
{
  "type": "SeidoBalanceError", 
  "message": "Insufficient balance for order (320 RUB/day)",
  "code": "B00001"
}
```

**–≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–æ –±—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–∫–∞–∑–∞.**

## üîö –û–ë–ù–û–í–õ–ï–ù–ù–´–ô –§–ò–ù–ê–õ–¨–ù–´–ô –°–¢–ê–¢–£–°

‚ùå **AR21-SSD –∑–∞–∫–∞–∑**: –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π `partitions_config`  
‚úÖ **Terraform –ø—Ä–æ–≤–∞–π–¥–µ—Ä**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤, –≤–∫–ª—é—á–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫—É `partitions_config`  
‚úÖ **API –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ–¥–µ–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ  
‚ùå **AR21-SSD —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –í–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å EOL —Å—Ç–∞—Ç—É—Å–æ–º –≤ –Ω–æ–≤–æ–º API

### üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ö –î–ï–ô–°–¢–í–ò–Æ:

1. **–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ Selectel**: –ó–∞–ø—Ä–æ—Å –ø—Ä–∏–º–µ—Ä–∞ `partitions_config` –¥–ª—è AR21-SSD
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞**: –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å CL25-SSD (350 RUB/–¥–µ–Ω—å) 
3. **Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: –ü—Ä–æ–≤–∞–π–¥–µ—Ä –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–æ—Å–ª–µ —Ä–µ—à–µ–Ω–∏—è API –≤–æ–ø—Ä–æ—Å–æ–≤
